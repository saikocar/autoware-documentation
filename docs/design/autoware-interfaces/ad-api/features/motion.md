# モーション

## 関連するAPI

- {{ link_ad_api('/api/motion/state') }}
- {{ link_ad_api('/api/motion/accept_start') }}

## 説明

このAPIは車両の現在の動作を管理します。
アプリケーションは車両の挙動を周囲の人に通知し、オペレーターや乗客に視覚化することができます。

## 状態

運動状態は車両の停止と発進を管理します。
車両が停止すると、状態は STOPPED になります。
この後、車両が発進しようとすると（停止中）、状態はSTARTINGになります。
この状態で起動APIを呼び出すと状態がMOVINGに変更され、車両が起動します。
この仕組みにより、車両発進前のアナウンスなどの処理を追加することができます。
構成によっては、状態がSTOPPEDからMOVINGに直接遷移する場合があります。

![運動の状態](./motion/state.drawio.svg)

| 状態            | 説明                                     |
| ---------------- | ----------------------------------------------- |
| STOPPED          | 車両が停止している。                         |
| STARTING         | 車両は停止していますが、発進しようとしています。 |
| MOVING           | 車両は動いています。                          |
| BRAKING (T.B.D.) | 車両が強く減速しています。           |
